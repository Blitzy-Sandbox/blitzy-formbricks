---
title: "Environment Variables"
description: "Environment variables for Formbricks"
icon: "code"
---

## Overview

Formbricks is configured through environment variables set in your `docker-compose.yml` file or a `.env` file. After changing any variable, restart your Docker containers for the changes to take effect.

<Warning>
  Variables marked as **required** must be set for Formbricks to start correctly. Optional variables enable additional features and can be configured as needed.
</Warning>

<Note>
  You can generate secure random secrets for `NEXTAUTH_SECRET`, `ENCRYPTION_KEY`, and `CRON_SECRET` using:
  ```bash
  openssl rand -hex 32
  ```
</Note>

## Core Configuration

These variables control the fundamental operation of your Formbricks instance.

| Variable | Description | Required | Default |
| --- | --- | --- | --- |
| `WEBAPP_URL` | Base URL of the site | required | `http://localhost:3000` |
| `PUBLIC_URL` | Base URL for the public domain where surveys and public-facing content are served. Falls back to `WEBAPP_URL` if not set | optional | `WEBAPP_URL` |
| `NEXTAUTH_URL` | Location of the auth server. Should normally be the same as `WEBAPP_URL`. If your application uses a custom base path, specify the route to the API endpoint in full (e.g., `https://example.com/custom-route/api/auth`) | required | `http://localhost:3000` |
| `DATABASE_URL` | PostgreSQL database connection URL with credentials (e.g., `postgresql://user:password@host:5432/formbricks?schema=public`) | required | — |
| `NEXTAUTH_SECRET` | Secret for NextAuth, used for session signing and encryption. Generate with `openssl rand -hex 32` | required | — |
| `ENCRYPTION_KEY` | Secret used by Formbricks for data encryption and audit log hashing. Generate with `openssl rand -hex 32` | required | — |
| `CRON_SECRET` | API secret for running scheduled cron jobs. Generate with `openssl rand -hex 32` | required | — |
| `REDIS_URL` | Redis URL for caching, rate limiting, and audit logging. The application will not start without this | required | `redis://localhost:6379` |
| `LOG_LEVEL` | Minimum log level (`debug`, `info`, `warn`, `error`, `fatal`) | optional | `info` |
| `BASE_PATH` | Custom URL subpath prefix for deploying under a sub-path of a domain. Can only be set at build time | optional | — |
| `DEFAULT_BRAND_COLOR` | Default brand color for your app in hex format (can be overwritten from the UI) | optional | `#64748b` |
| `SESSION_MAX_AGE` | Maximum session age in seconds | optional | `86400` (24 hours) |

Source: `.env.example`, `apps/web/lib/constants.ts`

## Authentication

Configure identity providers, SSO, and authentication behavior for your Formbricks instance.

| Variable | Description | Required | Default |
| --- | --- | --- | --- |
| `EMAIL_AUTH_DISABLED` | Set to `1` to disable email/password login | optional | — (enabled by default) |
| `EMAIL_VERIFICATION_DISABLED` | Set to `1` to disable email verification. If enabled, SMTP must be configured | optional | `1` |
| `PASSWORD_RESET_DISABLED` | Set to `1` to disable password reset functionality. If enabled, SMTP must be configured | optional | `1` |
| `INVITE_DISABLED` | Set to `1` to disable invited users from creating an account | optional | — |
| `GITHUB_ID` | Client ID for GitHub OAuth | optional (required if GitHub auth enabled) | — |
| `GITHUB_SECRET` | Secret for GitHub OAuth | optional (required if GitHub auth enabled) | — |
| `GOOGLE_CLIENT_ID` | Client ID for Google OAuth | optional (required if Google auth enabled) | — |
| `GOOGLE_CLIENT_SECRET` | Secret for Google OAuth | optional (required if Google auth enabled) | — |
| `AZUREAD_CLIENT_ID` | Client ID for Azure AD OAuth | optional (required if Azure AD auth enabled) | — |
| `AZUREAD_CLIENT_SECRET` | Secret for Azure AD OAuth | optional (required if Azure AD auth enabled) | — |
| `AZUREAD_TENANT_ID` | Tenant ID for Azure AD OAuth | optional (required if Azure AD auth enabled) | — |
| `OIDC_CLIENT_ID` | Client ID for OpenID Connect provider | optional (required if OIDC enabled) | — |
| `OIDC_CLIENT_SECRET` | Secret for OpenID Connect provider | optional (required if OIDC enabled) | — |
| `OIDC_ISSUER` | Issuer URL for OpenID Connect (must have `.well-known` configured) | optional (required if OIDC enabled) | — |
| `OIDC_DISPLAY_NAME` | Display name for the custom OIDC provider login button | optional | — |
| `OIDC_SIGNING_ALGORITHM` | Signing algorithm for the OIDC provider | optional | `RS256` |
| `SAML_DATABASE_URL` | Dedicated PostgreSQL database URL for SAML SSO via BoxyHQ saml-jackson | optional | — |
| `AUTH_SKIP_INVITE_FOR_SSO` | Set to `1` to allow SSO users to join the organization without an invite | optional | — |
| `AUTH_SSO_DEFAULT_TEAM_ID` | Automatically assign new SSO users to a specific team. Requires a valid CUID | optional | — |
| `DEFAULT_ORGANIZATION_ID` | Automatically assign new users to a specific organization when they join | optional | — |
| `DEFAULT_TEAM_ID` | Default team ID for new users | optional | — |

<Note>
  OIDC and SAML SSO require an active [Enterprise License](/self-hosting/advanced/license).
  See the [Auth SSO setup guides](/self-hosting/configuration/auth-sso/open-id-connect) for configuration details.
</Note>

## Stripe Billing

Configure Stripe for subscription billing and plan management. These variables are only needed if you are using the Formbricks billing feature.

| Variable | Description | Required | Default |
| --- | --- | --- | --- |
| `STRIPE_SECRET_KEY` | Secret key for the Stripe billing integration | optional | — |
| `STRIPE_WEBHOOK_SECRET` | Webhook secret for the Stripe billing integration | optional | — |

Source: `.env.example`

## CAPTCHA

Formbricks supports two CAPTCHA providers for different protection layers. Cloudflare Turnstile protects the signup flow, while Google reCAPTCHA v3 protects survey responses from bot submissions.

| Variable | Description | Required | Default |
| --- | --- | --- | --- |
| `TURNSTILE_SITE_KEY` | Cloudflare Turnstile site key for signup and form protection | optional | — |
| `TURNSTILE_SECRET_KEY` | Cloudflare Turnstile secret key | optional | — |
| `RECAPTCHA_SITE_KEY` | Google reCAPTCHA v3 site key for survey response bot protection | optional | — |
| `RECAPTCHA_SECRET_KEY` | Google reCAPTCHA v3 secret key | optional | — |

<Note>
  Turnstile and reCAPTCHA serve different purposes. **Turnstile** is used during user signup to prevent automated account creation. **reCAPTCHA** is used on survey submissions to block bot responses. You can enable one or both depending on your needs.
</Note>

## Observability

Configure OpenTelemetry, Prometheus, and Sentry for monitoring, tracing, and error tracking in your self-hosted Formbricks instance.

| Variable | Description | Required | Default |
| --- | --- | --- | --- |
| `OTEL_EXPORTER_OTLP_ENDPOINT` | Base OTLP HTTP endpoint for traces and metrics (e.g., `http://collector:4318`). Exporters append `/v1/traces` and `/v1/metrics` automatically | optional | — |
| `OTEL_EXPORTER_OTLP_PROTOCOL` | OTLP protocol to use for export | optional | `http/protobuf` |
| `OTEL_SERVICE_NAME` | Service name reported in OpenTelemetry resource attributes | optional | `formbricks` |
| `OTEL_RESOURCE_ATTRIBUTES` | Comma-separated OpenTelemetry resource attributes in `key=value,key2=value2` format (e.g., `deployment.environment=production`) | optional | — |
| `OTEL_TRACES_SAMPLER` | Trace sampler strategy: `always_on`, `always_off`, `traceidratio`, or `parentbased_traceidratio` | optional | `always_on` |
| `OTEL_TRACES_SAMPLER_ARG` | Sampling ratio argument used by ratio-based samplers (value from `0` to `1`) | optional | — |
| `PROMETHEUS_ENABLED` | Set to `1` to enable the Prometheus metrics endpoint | optional | — |
| `PROMETHEUS_EXPORTER_PORT` | Port for the Prometheus metrics endpoint | optional | `9090` |
| `SENTRY_DSN` | Sentry DSN for error tracking and performance monitoring | optional | — |
| `SENTRY_AUTH_TOKEN` | Sentry auth token for source map uploads during build | optional | — |
| `SENTRY_ENVIRONMENT` | Sentry environment identifier (e.g., `production`, `staging`) | optional | — |

Source: `.env.example`, `apps/web/instrumentation-node.ts`

<Note>
  See the [Monitoring guide](/self-hosting/setup/monitoring) for detailed instructions on configuring OpenTelemetry, Prometheus, and Sentry for your self-hosted deployment.
</Note>

## File Storage

Configure S3-compatible storage for file uploads. When `S3_BUCKET_NAME` is set, Formbricks uses S3 storage instead of local storage. This is required for serverless deployments.

| Variable | Description | Required | Default |
| --- | --- | --- | --- |
| `S3_ACCESS_KEY` | Access key for S3-compatible storage | optional | (resolved by AWS SDK) |
| `S3_SECRET_KEY` | Secret key for S3-compatible storage | optional | (resolved by AWS SDK) |
| `S3_REGION` | Region for S3 storage | optional | (resolved by AWS SDK) |
| `S3_BUCKET_NAME` | S3 bucket name for data storage. Formbricks enables S3 storage when this is set | optional (required if S3 enabled) | — |
| `S3_ENDPOINT_URL` | Custom endpoint for S3-compatible services such as MinIO or StorJ (leave empty for AWS S3) | optional | (resolved by AWS SDK) |
| `S3_FORCE_PATH_STYLE` | Force path-style URLs for S3-compatible services (`0` for disabled, `1` for enabled) | optional | `0` |

Source: `.env.example`, `packages/storage/src/constants.ts`

See [File Uploads Configuration](/self-hosting/configuration/file-uploads) for a detailed setup guide.

## SMTP / Email

Configure SMTP for transactional emails including invitations, password resets, email verification, and survey follow-ups.

| Variable | Description | Required | Default |
| --- | --- | --- | --- |
| `MAIL_FROM` | Email address to send emails from | optional (required if email enabled) | — |
| `MAIL_FROM_NAME` | Display name for sent emails | optional | `Formbricks` |
| `SMTP_HOST` | SMTP server hostname | optional (required if email enabled) | — |
| `SMTP_PORT` | SMTP server port | optional (required if email enabled) | `1025` |
| `SMTP_USER` | SMTP authentication username | optional (required if email enabled) | — |
| `SMTP_PASSWORD` | SMTP authentication password | optional (required if email enabled) | — |
| `SMTP_SECURE_ENABLED` | Enable TLS for SMTP connections. Set to `1` for port 465 | optional | `0` |
| `SMTP_AUTHENTICATED` | Set to `0` to skip SMTP authentication (disables `SMTP_USER` and `SMTP_PASSWORD` requirement) | optional | `1` |
| `SMTP_REJECT_UNAUTHORIZED_TLS` | Set to `0` to accept connections without CA authorization | optional | `1` |

Source: `.env.example`, `apps/web/lib/constants.ts`

See [SMTP Configuration](/self-hosting/configuration/smtp) for provider-specific examples.

## Integration Credentials

Configure OAuth credentials for native integrations. Each integration requires its own set of OAuth credentials.

| Variable | Description | Required | Default |
| --- | --- | --- | --- |
| `SLACK_CLIENT_ID` | OAuth Client ID for the Slack integration | optional | — |
| `SLACK_CLIENT_SECRET` | OAuth Client Secret for the Slack integration | optional | — |
| `NOTION_OAUTH_CLIENT_ID` | OAuth Client ID for the Notion integration | optional | — |
| `NOTION_OAUTH_CLIENT_SECRET` | OAuth Client Secret for the Notion integration | optional | — |
| `GOOGLE_SHEETS_CLIENT_ID` | OAuth Client ID for the Google Sheets integration | optional | — |
| `GOOGLE_SHEETS_CLIENT_SECRET` | OAuth Client Secret for the Google Sheets integration | optional | — |
| `GOOGLE_SHEETS_REDIRECT_URL` | OAuth Redirect URL for the Google Sheets integration | optional | — |
| `AIRTABLE_CLIENT_ID` | OAuth Client ID for the Airtable integration | optional | — |

Source: `.env.example`, `apps/web/lib/constants.ts`

See the [Integration Configuration](/self-hosting/configuration/integrations/slack) guides for step-by-step setup instructions for each provider.

## Enterprise / License

Configure enterprise features including license management, audit logging, and user management controls.

| Variable | Description | Required | Default |
| --- | --- | --- | --- |
| `ENTERPRISE_LICENSE_KEY` | Enterprise license key for premium features | optional | — |
| `USER_MANAGEMENT_MINIMUM_ROLE` | Minimum role for user management from the UI. Accepted values: `owner`, `manager`, `disabled` | optional | `manager` |
| `AUDIT_LOG_ENABLED` | Set to `1` to enable audit logging. Requires Redis to be configured via `REDIS_URL` | optional | `0` |
| `AUDIT_LOG_GET_USER_IP` | Set to `1` to include user IP addresses in audit logs from request headers | optional | `0` |

<Note>
  Enterprise features including SSO, audit logging, team access control, and multi-language surveys require
  an active Enterprise License. See [License Management](/self-hosting/advanced/license) for details.
</Note>

## Other Configuration

Additional configuration options for customization, legal compliance, and third-party services.

| Variable | Description | Required | Default |
| --- | --- | --- | --- |
| `PRIVACY_URL` | URL for the privacy policy (displayed in the footer of signup and public pages) | optional | — |
| `TERMS_URL` | URL for the terms of service (displayed in the footer of signup and public pages) | optional | — |
| `IMPRINT_URL` | URL for the imprint page | optional | — |
| `IMPRINT_ADDRESS` | Address for the imprint | optional | — |
| `RATE_LIMITING_DISABLED` | Set to `1` to disable rate limiting across the Formbricks application | optional | — |
| `ASSET_PREFIX_URL` | URL prefix for shipping JS and CSS files from a different domain | optional | — |
| `UNSPLASH_ACCESS_KEY` | Unsplash API key for stock image integration in the survey editor | optional | — |
| `REDIS_HTTP_URL` | Redis HTTP URL for rate limiting (uses in-memory LRU cache if not provided). Compatible with services like Webdis | optional | — |

<Note>
  If you want to configure something that is not possible via the above variables, please [open an issue](https://github.com/formbricks/formbricks/issues) on the GitHub repository or reach out on [GitHub Discussions](https://github.com/formbricks/formbricks/discussions) and we'll try our best to work out a solution with you.
</Note>
