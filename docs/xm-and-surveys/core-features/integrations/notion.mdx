---
title: "Notion"
description: "The Notion integration allows you to automatically send responses to a Notion database of your choice."
icon: "database"
---

<Note>
  If you are on a self-hosted instance, you will need to configure this integration separately. Please follow
  the guides [here](/self-hosting/configuration/integrations) to configure integrations on your self-hosted
  instance.
</Note>

## Formbricks Cloud

1. Click on the `Configuration` tab in the left sidebar and then click on the `Integrations` tab and click on the `connect` button under the `Notion` card.

![Formbricks Integrations Tab](/images/xm-and-surveys/core-features/integrations/notion/integrations-tab.webp)

1. Now click on the "Connect with Notion" button to authenticate yourself with Notion.

![Connect Formbricks with your Notion account](/images/xm-and-surveys/core-features/integrations/notion/connect-with-notion.webp)

1. You will now be taken to the Notion OAuth page where you can select the Notion account you want to use for the integration

2. Once you have selected the account and databases and completed the authentication and authorization process, you will be taken back to Formbricks Cloud and see the connected status as below:

![Formbricks is now connected with Notion](/images/xm-and-surveys/core-features/integrations/notion/notion-connected.webp)

<Note>
  Before the next step, make sure that you have a Formbricks Survey with at least one question and a Notion
  database in the Notion account you integrated.
</Note>

1. Now click on the "Link New Database" button to link a Notion database with Formbricks and a modal will open up.

![Link Formbricks with a Notion database](/images/xm-and-surveys/core-features/integrations/notion/link-survey-with-database.webp)

1. Select the Notion database you want to link with Formbricks and the Survey. On doing so, you will be asked to map formbricks' survey questions with selected databases' column. Complete the mapping and click on the "Link Database" button.

![Question to notion database column mapping](/images/xm-and-surveys/core-features/integrations/notion/link-with-databases.webp)

1. On submitting, the modal will close and you will see the linked Notion database in the list of linked Notion databases.

![List of linked notion databases](/images/xm-and-surveys/core-features/integrations/notion/list-linked-databases.webp)

Congratulations! You have successfully linked a Notion database with Formbricks. Now whenever a response is submitted for the linked survey, it will be automatically added to the linked Notion database.

## Setup In Self-Hosted Formbricks

Enabling the Notion Integration in a self-hosted environment requires a setup using Notion account and changing the environment variables of your Formbricks instance.

1. Sign up for a [Notion](https://www.notion.so/) account, if you don't have one already.

2. Go to the [my integrations](https://www.notion.so/my-integrations) page and click on **New integration**.

3. Fill up the basic information like **Name**, **Logo** and click on **Submit**.

4. Now, click on **Distribution** tab on the sidebar. A text will appear which will ask you to make the integration public. Click on that toggle button. A form will appear below the text.

5. Now provide it the details such as requested. Under **Redirect URIs** field:

   - If you are running formbricks locally, you can enter `http://localhost:3000/api/v1/integrations/notion/callback`.

   - Or, you can enter `https://<your-public-facing-url>/api/v1/integrations/notion/callback`

6. Once you've filled all the necessary details, click on **Submit**.

7. A screen will appear which will have **Client ID** and **Client secret**. Copy them and set them as the environment variables in your Formbricks instance as:

   - `NOTION_OAUTH_CLIENT_ID` - OAuth Client ID

   - `NOTION_OAUTH_CLIENT_SECRET` - OAuth Client Secret

Voila! You have successfully enabled the Notion integration in your self-hosted Formbricks instance. Now you can follow the steps mentioned in the [Formbricks Cloud](#formbricks-cloud) section to link a Notion database with Formbricks.

## Rich Text Character Limit

Notion's API enforces a **2,000 character limit** per rich text block. To ensure reliable writes and avoid API errors, Formbricks truncates response values at **1,995 characters** before sending them to Notion. This provides a small safety buffer for encoding overhead.

When a survey response exceeds the 1,995 character threshold, the value is automatically truncated using an internal `truncateText()` utility before it is written to the Notion database. No data is lost in Formbricks — the full response is always stored in your Formbricks database — but only the first 1,995 characters of each field appear in Notion.

<Note>
  Notion has a 2,000 character limit per rich text block. Formbricks truncates at 1,995 characters to ensure
  reliable writes. The full response is always available in your Formbricks dashboard.
</Note>

Source: `apps/web/lib/constants.ts` (`NOTION_RICH_TEXT_LIMIT = 1995`)

## Database Property Mapping

Formbricks creates a new **page** in the selected Notion database for each survey response. During integration setup (step 6 of the Cloud flow), you configure the mapping between Formbricks survey questions and Notion database properties (columns).

The mapping process works as follows:

1. Select the target Notion database from the dropdown.
2. Choose the Formbricks survey you want to link.
3. Map each survey question to a corresponding database property (column) in Notion.
4. Click "Link Database" to save the mapping.

When a response is submitted, Formbricks calls the Notion `POST /v1/pages` API endpoint to create a new page with the `database_id` as the parent. Each mapped question value is passed as a property in a `Record<string, Object>` structure that matches the Notion database schema.

<Note>
  Ensure that the database properties in Notion match the expected data types for your survey questions. For
  example, text questions should map to "Title" or "Rich Text" properties in Notion.
</Note>

Source: `apps/web/lib/notion/service.ts` (`writeData()` function)

## Encrypted Token Storage

Notion OAuth access tokens are stored **encrypted** in the Formbricks database using AES symmetric encryption. This ensures that even if the database is compromised, OAuth tokens remain protected and cannot be read in plain text.

At runtime, tokens are decrypted on demand using the `symmetricDecrypt()` function from the Formbricks cryptography module. The decryption relies on the `ENCRYPTION_KEY` environment variable, which must be properly configured for the Notion integration to function.

<Note>
  The `ENCRYPTION_KEY` environment variable is required for the Notion integration. Without it, Formbricks
  cannot decrypt stored OAuth tokens and API calls to Notion will fail.
</Note>

Source: `apps/web/lib/notion/service.ts`, `apps/web/lib/crypto.ts` (`symmetricDecrypt()`)

## PKCE Authorization Flow

The Notion integration uses an **OAuth 2.0 authorization code flow** to securely connect your Notion account with Formbricks. The integration flow works as follows:

1. **Initiation:** When you click "Connect with Notion" in Formbricks, you are redirected to the Notion OAuth consent page.
2. **Authorization:** You select which Notion account and databases to share with Formbricks.
3. **Callback:** After granting access, Notion redirects back to Formbricks with an authorization code via the configured redirect URI (`/api/v1/integrations/notion/callback`).
4. **Token Exchange:** Formbricks exchanges the authorization code for an access token using the `NOTION_OAUTH_CLIENT_ID` and `NOTION_OAUTH_CLIENT_SECRET`.
5. **Secure Storage:** The access token is encrypted and stored in the Formbricks database for future API calls.

The OAuth setup requires creating a public Notion integration at [https://www.notion.so/my-integrations](https://www.notion.so/my-integrations) and configuring the appropriate redirect URIs.

<Note>
  For complete OAuth app setup instructions for self-hosted instances, see the [self-hosted Notion
  configuration guide](/self-hosting/configuration/integrations/notion).
</Note>

## Self-Hosted Environment Variables

The following environment variables are required to enable the Notion integration on a self-hosted Formbricks instance:

| Environment Variable | Description |
|---------------------|-------------|
| `NOTION_OAUTH_CLIENT_ID` | OAuth Client ID from the Notion integration |
| `NOTION_OAUTH_CLIENT_SECRET` | OAuth Client Secret from the Notion integration |
| `ENCRYPTION_KEY` | Required for encrypting and decrypting stored OAuth tokens |

<Note>
  For complete self-hosted Notion integration setup, see the [self-hosted Notion configuration
  guide](/self-hosting/configuration/integrations/notion).
</Note>

## Remove Integration with Notion Account

To remove the integration with your Notion Account,

1. Visit the Integrations tab in your Formbricks Cloud dashboard.

2. Select "Manage" button in the Notion card.

3. Click on the "Delete Integration" button.

4. It will now ask for a confirmation to remove the integration. Click on the "Delete" button to remove the integration. You can always come back and connect again with the same Notion Account.

![Delete Notion Integration with Formbricks](/images/xm-and-surveys/core-features/integrations/notion/delete-connection.webp)

## Troubleshooting

| Issue | Cause | Solution |
|-------|-------|----------|
| Database not appearing in dropdown | Database not shared with integration | In Notion, click "Share" on the database and add the Formbricks integration |
| Data truncated in Notion | Response exceeds 1,995 characters | Expected behavior; Notion rich text blocks are limited to 2,000 characters |
| Integration connection failure | Missing or invalid `ENCRYPTION_KEY` | Ensure the `ENCRYPTION_KEY` environment variable is set correctly |
| "Unauthorized" errors | Token revoked or integration permissions changed | Re-authenticate the Notion integration from the Integrations tab |

Source: `apps/web/lib/notion/service.ts`, `apps/web/lib/constants.ts`

Still struggling or something not working as expected? [Join our Github Discussions](https://github.com/formbricks/formbricks/discussions) and we'd be glad to assist you!
