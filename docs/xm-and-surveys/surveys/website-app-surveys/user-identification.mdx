---
title: "User Identification"
description: "User Identification helps you to not only segment your users but also to see more information about the user who responded to a survey. This helps you to target surveys to specific user segments and see more information about the user who responded to a survey."
icon: "user"
---

<Note>
  User identification is part of the Formbricks [Enterprise Edition](/self-hosting/advanced/license). 
</Note>

## Understanding Identified vs Unidentified Users

In Formbricks, understanding the difference between identified and unidentified users is crucial for effective survey segmentation and targeted feedback collection.

| Feature                                                  | Unidentified Users | Identified Users |
| -------------------------------------------------------- | ------------------ | ---------------- |
| Show surveys based on **trigger** actions                | ✅                 | ✅               |
| Set **recontact details** to avoid survey fatique        | ✅                 | ✅               |
| Target a subset of users using **attributes & segments** | ❌                 | ✅               |
| Collect **user information** in Formbricks               | ❌                 | ✅               |
| Track **custom attributes**                              | ❌                 | ✅               |
| Counts towards your **monthly tacked user (MTU)** limit  | ❌                 | ✅               |
| Recommended for **public-facing websites**               | ✅                 | ❌               |
| Recommended for **web apps after login**                 | ❌                 | ✅               |

## Identified Users

Identified users are those for whom specific information has been set, notably the userId. This identification allows for more precise targeting of surveys and a deeper understanding of the feedback provided. When enabled, all information specified by you and all actions are sent to Formbricks.

This method is recommended for applications where users are required to log in and will often return.

### Setting User ID

To enable user identification, call the `setUserId` function of Formbricks and pass the user id. This identifies the user in the Formbricks dashboard and links all subsequent actions and survey responses to that user. Use a unique identifier that remains consistent across sessions, such as a database ID, unique email address, or a hashed value. You can also anonymize the identifier, as long as it is unique for each user.

The `setUserId` method signature is:

```typescript
formbricks.setUserId(userId: string): Promise<void>
```

Here is a basic usage example:

```javascript Setting User ID
formbricks.setUserId("<user-id>");
```

In a real-world application, you would typically call `setUserId` right after the user logs in:

```typescript Setting User ID After Login
// After user logs in to your application
const user = await authenticateUser(credentials);

// Identify the user in Formbricks
formbricks.setUserId(user.id);
```

<Note>
  Use a stable, unique identifier for each user. Avoid using values that change frequently, such as session tokens. A database primary key or a consistent hash of the user's email address works well.
</Note>

## Setting Custom User Attributes

Use the `setAttribute` function to set a single custom attribute for the user. Attributes are key-value pairs where both the key and value are strings. These attributes can be used to segment users and target surveys to specific user groups.

The `setAttribute` method signature is:

```typescript
formbricks.setAttribute(key: string, value: string): Promise<void>
```

Here is a basic usage example:

```javascript Setting Custom Attributes
formbricks.setAttribute("Plan", "free");
```

You can set any attribute key-value pair relevant to your application:

```javascript Setting Practical Attributes
formbricks.setAttribute("plan", "pro");
formbricks.setAttribute("company", "Acme Inc");
formbricks.setAttribute("role", "admin");
```

<Note>
  Internally, `setAttribute` calls `setAttributes` with a single key-value pair, so both methods use the same underlying mechanism.
</Note>

### Setting Multiple Attributes at Once

You can also set multiple attributes at once by passing an object to the `setAttributes` function. This is more efficient when you need to update several attributes simultaneously, as it sends a single request to Formbricks.

The `setAttributes` method signature is:

```typescript
formbricks.setAttributes(attributes: Record<string, string>): Promise<void>
```

Here is an example with multiple attributes:

```javascript Setting Multiple Custom Attributes
formbricks.setAttributes({
  plan: "pro",
  company: "Acme Inc",
  role: "admin",
  signupDate: "2024-01-15",
});
```

<Note>
  The number of different attribute classes (e.g., "plan," "company," "role," etc.) is limited to **150 attributes per environment**. Plan your attribute schema accordingly.
</Note>

## Setting User Email

The `setEmail` method is a convenience wrapper that sets the `email` attribute for the identified user. Internally, it calls `setAttributes({ email })`. This is useful for quickly associating a user's email address without manually specifying the attribute key.

The `setEmail` method signature is:

```typescript
formbricks.setEmail(email: string): Promise<void>
```

Usage example:

```javascript Setting User Email
formbricks.setEmail("user@example.com");
```

## Setting User Language

Use the `setLanguage` function to set the user's preferred language for surveys. This allows you to display surveys in the user's language when multi-language surveys are enabled. Internally, `setLanguage` is a convenience wrapper that calls `setAttributes({ language })`. You can pass either the ISO language code (e.g., "de", "fr", "es") or the language alias you configured in your project settings.

The `setLanguage` method signature is:

```typescript
formbricks.setLanguage(language: string): Promise<void>
```

Usage example:

```javascript Setting User Language
formbricks.setLanguage("de"); // ISO identifier or alias set when creating language
```

<Note>
  If a user has a language assigned, a survey has multi-language activated, and it is missing a translation in
  the language of the user, the survey will not be displayed. Learn more about [Multi-language Surveys](/xm-and-surveys/surveys/general-features/multi-language-surveys).
</Note>

## Logging Out Users

When a user logs out of your application, you must also log them out of Formbricks. This is critical to prevent subsequent activity from being linked to the wrong user. Failing to call `logout` can result in incorrect user attribution for surveys and responses.

The `logout` method signature is:

```typescript
formbricks.logout(): Promise<void>
```

Usage example:

```javascript Logging Out User
formbricks.logout();
```

In a real-world application, call `logout` as part of your sign-out flow:

```typescript Logging Out User in Application
// When user logs out of your application
const handleLogout = async () => {
  await signOut();
  formbricks.logout();
};
```

<Warning>
  Always call `formbricks.logout()` when a user signs out. If you skip this step, the next user who logs in on the same device may inherit the previous user's Formbricks session, leading to incorrect survey targeting and response attribution.
</Warning>

---

*Source: `packages/js-core/src/index.ts`*
