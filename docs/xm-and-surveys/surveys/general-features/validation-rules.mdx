---
title: "Validation Rules"
description: "Validation rules help you ensure that respondents provide data in the correct format and within expected constraints"
icon: "check-double"
---

By adding validation rules to your questions, you can improve data quality, reduce errors, and create a better survey experience.

![Validation Rules Editor](/images/xm-and-surveys/core-features/validation-rules/editor.webp)

## How Validation Rules Work

Validation rules are evaluated when a respondent submits their answer. If the answer doesn't meet the validation criteria, an error message is displayed and the respondent must correct their input before proceeding.

You can combine multiple validation rules using **All are true** or **Any is true** logic:
- **All are true**: All rules must pass for the response to be valid
- **Any is true**: At least one rule must pass for the response to be valid

## Technical Overview

Under the hood, Formbricks validation rules are built on [Zod](https://zod.dev/) schemas. Each validation rule is defined as a structured object with the following properties:

| Property | Type | Description |
|----------|------|-------------|
| `id` | `string` | Unique identifier for the rule |
| `type` | `string` | The validation rule type (e.g., `minLength`, `maxValue`, `isLaterThan`) |
| `params` | `object` | Type-specific parameters for the rule (e.g., `{ min: 10 }` for `minLength`) |
| `field` | `string` (optional) | Targets a specific sub-field within composite questions like Address or Contact Info |

The platform defines 26 validation rule types organized into six categories: text rules, numeric rules, selection rules, date rules, ranking/matrix rules, and file upload rules. An internal `APPLICABLE_RULES` mapping determines which rule types are available for each question type, ensuring only relevant validation options appear in the survey editor.

<Note>
  Source: `packages/types/surveys/validation-rules.ts` — contains `ZValidationRuleType`, `ZValidationRule`, and `APPLICABLE_RULES` definitions.
</Note>

## Available Validation Rules by Question Type

### Free Text Questions

Free text questions support different validation rules based on the input type:

#### Text Input Type

| Rule | Description | Example |
|------|-------------|---------|
| At least (characters) | Requires at least N characters | At least 10 characters for detailed feedback |
| At most (characters) | Limits response to N characters | At most 500 characters for short answers |
| Matches Regex Pattern | Matches a regular expression pattern | Custom format validation |
| Is | Exact match required | Must equal "CONFIRM" |
| Is not | Must not match the value | Cannot be "N/A" |
| Contains | Must include the substring | Must contain "@company.com" |
| Does not contain | Must not include the substring | Cannot contain profanity |

#### Email Input Type

Email input automatically validates email format. Additional rules available:
- At least, At most (characters)
- Matches Regex Pattern, Is, Is not
- Contains, Does not contain

#### URL Input Type

URL input automatically validates URL format. Additional rules available:
- At least, At most (characters)
- Matches Regex Pattern, Is, Is not
- Contains, Does not contain

#### Phone Input Type

Phone input automatically validates phone number format. Additional rules available:
- At least, At most (characters)
- Matches Regex Pattern, Is, Is not
- Contains, Does not contain

#### Number Input Type

| Rule | Description | Example |
|------|-------------|---------|
| At least | Number must be at least N (inclusive, ≥) | Age must be at least 18 |
| At most | Number cannot exceed N (inclusive, ≤) | Quantity at most 100 |
| Greater than | Number must be strictly greater than N (&gt;) | Score greater than 0 |
| Less than | Number must be strictly less than N (&lt;) | Discount less than 100 |
| Is | Number must equal N | Quantity is 1 |
| Is not | Number must not equal N | Cannot be 0 |

### Multiple Choice (Multi-Select) Questions

| Rule | Description | Example |
|------|-------------|---------|
| At least (options selected) | Require at least N selections | At least 2 options selected |
| At most (options selected) | Limit to N selections | At most 3 options selected |

### Picture Selection Questions

| Rule | Description | Example |
|------|-------------|---------|
| At least (options selected) | Require at least N pictures | At least 1 design selected |
| At most (options selected) | Limit to N pictures | At most 2 favorites selected |

<Note>
  Selection validation rules for Picture Selection questions are only available when **Allow Multiple Selections** is enabled in the question settings. When single selection mode is active, the respondent can only pick one picture and selection count rules do not apply.
</Note>

### Date Questions

| Rule | Description | Example |
|------|-------------|---------|
| Is later than | Date must be after specified date | Must be after today |
| Is earlier than | Date must be before specified date | Must be before Dec 31, 2025 |
| Is between | Date must be within range | Between Jan 1 and Dec 31 |
| Is not between | Date must be outside range | Cannot be during holidays |

<Note>
  Date values should be specified in YYYY-MM-DD format (e.g., 2025-01-15).
</Note>

### Matrix Questions

| Rule | Description | Example |
|------|-------------|---------|
| Minimum rows answered | Require at least N rows to be answered | Answer at least 3 rows |
| Answer all rows | All rows must have a selection | Complete the entire matrix |

### Ranking Questions

| Rule | Description | Example |
|------|-------------|---------|
| Minimum options ranked | Require at least N items to be ranked | Rank your top 3 |
| Rank all options | All options must be ranked | Rank all 5 items |

### File Upload Questions

| Rule | Description | Example |
|------|-------------|---------|
| File extension is | Only allow specific file types | Only .pdf, .docx allowed |
| File extension is not | Block specific file types | No .exe files |

<Note>
  File size limits are configured separately in the question settings using the "Maximum file size" option.
</Note>

### Address Questions

Each address field (Address Line 1, Address Line 2, City, State, ZIP, Country) can have its own validation rules. The `field` property on each rule specifies which sub-field the validation targets (e.g., `city`, `state`, `zip`).

| Rule | Description | Example |
|------|-------------|---------|
| At least (characters) | Minimum character count for the field | City must be at least 2 characters |
| At most (characters) | Maximum character count for the field | ZIP at most 10 characters |
| Matches Regex Pattern | Field must match a regex pattern | ZIP matches `^\d{5}(-\d{4})?$` |
| Email format | Field must be a valid email address | Alternate contact field |
| URL format | Field must be a valid URL | Website field |
| Phone format | Field must be a valid phone number | Alternate phone field |
| Is | Field must exactly match a value | Country is "US" |
| Is not | Field must not match a value | State is not "N/A" |
| Contains | Field must include substring | Address contains "Suite" |
| Does not contain | Field must not include substring | Address does not contain "PO Box" |

### Contact Info Questions

Each contact field (First Name, Last Name, Email, Phone, Company) can have its own validation rules. The `field` property on each rule specifies which sub-field the validation targets (e.g., `firstName`, `email`, `phone`).

| Rule | Description | Example |
|------|-------------|---------|
| At least (characters) | Minimum character count for the field | First Name must be at least 2 characters |
| At most (characters) | Maximum character count for the field | Company at most 100 characters |
| Matches Regex Pattern | Field must match a regex pattern | Last Name matches `^[A-Za-z\s'-]+$` |
| Email format | Field must be a valid email address | Email sub-field validation |
| URL format | Field must be a valid URL | Company website field |
| Phone format | Field must be a valid phone number | Phone sub-field validation |
| Is | Field must exactly match a value | Company is "Acme Corp" |
| Is not | Field must not match a value | First Name is not "Test" |
| Contains | Field must include substring | Email contains "@company.com" |
| Does not contain | Field must not include substring | Phone does not contain "+0" |

<Note>
  The **Email** and **Phone** sub-fields benefit from their respective built-in format validators (`email` and `phone` rule types) to automatically enforce correct formatting in addition to any custom text-based rules.
</Note>

## Adding Validation Rules

<Steps>
  <Step title="Open the Question Settings">
    Click on the question you want to validate to open its settings panel.
  </Step>
  <Step title="Navigate to Validation Rules">
    Scroll down to find the "Validation Rules" section and click to expand it.
  </Step>
  <Step title="Add a Rule">
    Click the "Add rule" button to add a new validation rule.
  </Step>
  <Step title="Configure the Rule">
    Select the rule type from the dropdown and enter the required value (if applicable).
  </Step>
  <Step title="Set Logic (Optional)">
    If you have multiple rules, choose whether they should be combined with "All are true" or "Any is true" logic.
  </Step>
  <Step title="Save Your Survey">
    Click "Save" to apply the validation rules to your survey.
  </Step>
</Steps>

## Error Messages

Formbricks automatically generates user-friendly error messages based on your validation rules. Error messages are displayed below the input field when validation fails.

Example error messages:
- "Must be at least 10 characters"
- "Must be a valid email address"
- "Please select at least 2 options"
- "Date must be after 2025-01-01"

## Multi-Language Support

Validation rules work with multi-language surveys. Error messages are automatically displayed in the respondent's selected language.

## Combining Multiple Rules

When using multiple validation rules:

**All are true**: Use when all conditions must be met.
- Example: Text must be at least 10 characters AND contain "@email.com"

**Any is true**: Use when any condition is acceptable.
- Example: Date is earlier than 2025-01-01 OR is later than 2025-12-31

## Complete Validation Rule Type Reference

The table below lists every validation rule type supported by the platform, organized by category:

| Category | Rule Type | Parameters | Description |
|----------|-----------|------------|-------------|
| Text | `minLength` | `min` (number) | Minimum character count |
| Text | `maxLength` | `max` (number) | Maximum character count |
| Text | `pattern` | `pattern` (string), `flags` (optional) | Regex pattern match |
| Text | `email` | — | Valid email format |
| Text | `url` | — | Valid URL format |
| Text | `phone` | — | Valid phone number format |
| Text | `equals` | `value` (string) | Exact match required |
| Text | `doesNotEqual` | `value` (string) | Must not match value |
| Text | `contains` | `value` (string) | Must include substring |
| Text | `doesNotContain` | `value` (string) | Must not include substring |
| Numeric | `minValue` | `min` (number) | Minimum value (inclusive, ≥) |
| Numeric | `maxValue` | `max` (number) | Maximum value (inclusive, ≤) |
| Numeric | `isGreaterThan` | `min` (number) | Strictly greater than (&gt;) |
| Numeric | `isLessThan` | `max` (number) | Strictly less than (&lt;) |
| Selection | `minSelections` | `min` (number) | Minimum selections required |
| Selection | `maxSelections` | `max` (number) | Maximum selections allowed |
| Date | `isLaterThan` | `date` (YYYY-MM-DD) | Date must be after value |
| Date | `isEarlierThan` | `date` (YYYY-MM-DD) | Date must be before value |
| Date | `isBetween` | `startDate`, `endDate` (YYYY-MM-DD) | Date within range |
| Date | `isNotBetween` | `startDate`, `endDate` (YYYY-MM-DD) | Date outside range |
| Ranking | `minRanked` | `min` (number) | Minimum items ranked |
| Ranking | `rankAll` | — | All items must be ranked |
| Matrix | `minRowsAnswered` | `min` (number) | Minimum rows answered |
| Matrix | `answerAllRows` | — | All rows must be answered |
| File | `fileExtensionIs` | `extensions` (string array) | Allowed file extensions |
| File | `fileExtensionIsNot` | `extensions` (string array) | Blocked file extensions |

<Note>
  Source: `packages/types/surveys/validation-rules.ts` — This reference table is derived from the `ZValidationRuleType` enum and the corresponding Zod parameter schemas defined in the source.
</Note>
